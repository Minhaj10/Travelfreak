{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Travel\\\\Travelfreak\\\\Travel freak\\\\Frontend\\\\src\\\\components\\\\Navbar\\\\Navbar.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { AppBar, Typography, Toolbar, Avatar, Button } from \"@material-ui/core\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport decode from \"jwt-decode\";\nimport memoriesLogo from \"../../images/logo.png\";\nimport mainlogo from \"../../images/logo.png\";\nimport * as actionType from \"../../constants/actionTypes\";\nimport useStyles from \"./styles\";\nimport { purple, pink, orange } from \"@mui/material/colors\";\nimport { styled } from \"@mui/material/styles\";\nconst ColorButton = styled(Button)(({\n  theme\n}) => ({\n  color: theme.palette.getContrastText(purple[500]),\n  backgroundColor: pink[800],\n  \"&:hover\": {\n    backgroundColor: orange[600]\n  }\n}));\n\nconst Navbar = () => {\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"profile\")));\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const logout = () => {\n    dispatch({\n      type: actionType.LOGOUT\n    });\n    history.push(\"/auth\");\n    setUser(null);\n  };\n\n  useEffect(() => {\n    const token = user === null || user === void 0 ? void 0 : user.token;\n\n    if (token) {\n      const decodedToken = decode(token);\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n    }\n\n    setUser(JSON.parse(localStorage.getItem(\"profile\")));\n  }, [location]);\n  return /*#__PURE__*/React.createElement(AppBar, {\n    className: classes.appBar,\n    position: \"static\",\n    color: \"inherit\",\n    style: {\n      backgroundColor: \"#A9B8BF\",\n      boxShadow: \"0 0 3px 3px black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: Link,\n    to: \"/\",\n    className: classes.heading,\n    variant: \"h1\",\n    style: {\n      color: \"white\"\n    },\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"Travel Freak\")), /*#__PURE__*/React.createElement(Toolbar, {\n    className: classes.toolbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, (user === null || user === void 0 ? void 0 : user.result) ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.profile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: classes.purple,\n    alt: user === null || user === void 0 ? void 0 : user.result.name,\n    src: user === null || user === void 0 ? void 0 : user.result.imageUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, user === null || user === void 0 ? void 0 : user.result.name.charAt(0)), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.userName,\n    variant: \"h6\",\n    style: {\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, user === null || user === void 0 ? void 0 : user.result.name), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    className: classes.logout,\n    color: \"secondary\",\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, \"Logout\")) : /*#__PURE__*/React.createElement(ColorButton, {\n    component: Link,\n    to: \"/auth\",\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, \"Sign In\")));\n};\n\nexport default Navbar;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Travel/Travelfreak/Travel freak/Frontend/src/components/Navbar/Navbar.js"],"names":["React","useState","useEffect","AppBar","Typography","Toolbar","Avatar","Button","Link","useHistory","useLocation","useDispatch","decode","memoriesLogo","mainlogo","actionType","useStyles","purple","pink","orange","styled","ColorButton","theme","color","palette","getContrastText","backgroundColor","Navbar","user","setUser","JSON","parse","localStorage","getItem","dispatch","location","history","classes","logout","type","LOGOUT","push","token","decodedToken","exp","Date","getTime","appBar","boxShadow","heading","toolbar","result","profile","name","imageUrl","charAt","userName"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { AppBar, Typography, Toolbar, Avatar, Button } from \"@material-ui/core\";\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport decode from \"jwt-decode\";\r\nimport memoriesLogo from \"../../images/logo.png\";\r\nimport mainlogo from \"../../images/logo.png\";\r\nimport * as actionType from \"../../constants/actionTypes\";\r\nimport useStyles from \"./styles\";\r\nimport { purple, pink, orange } from \"@mui/material/colors\";\r\nimport { styled } from \"@mui/material/styles\";\r\n\r\nconst ColorButton = styled(Button)(({ theme }) => ({\r\n    color: theme.palette.getContrastText(purple[500]),\r\n    backgroundColor: pink[800],\r\n    \"&:hover\": {\r\n        backgroundColor: orange[600],\r\n    },\r\n}));\r\n\r\nconst Navbar = () => {\r\n    const [user, setUser] = useState(\r\n        JSON.parse(localStorage.getItem(\"profile\"))\r\n    );\r\n    const dispatch = useDispatch();\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    const classes = useStyles();\r\n\r\n    const logout = () => {\r\n        dispatch({ type: actionType.LOGOUT });\r\n\r\n        history.push(\"/auth\");\r\n\r\n        setUser(null);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const token = user?.token;\r\n\r\n        if (token) {\r\n            const decodedToken = decode(token);\r\n\r\n            if (decodedToken.exp * 1000 < new Date().getTime()) logout();\r\n        }\r\n\r\n        setUser(JSON.parse(localStorage.getItem(\"profile\")));\r\n    }, [location]);\r\n\r\n    return (\r\n        <AppBar\r\n            className={classes.appBar}\r\n            position=\"static\"\r\n            color=\"inherit\"\r\n            style={{\r\n                backgroundColor: \"#A9B8BF\",\r\n                boxShadow: \"0 0 3px 3px black\",\r\n            }}\r\n        >\r\n            <div>\r\n                <Typography\r\n                    component={Link}\r\n                    to=\"/\"\r\n                    className={classes.heading}\r\n                    variant=\"h1\"\r\n                    style={{ color: \"white\" }}\r\n                    align=\"center\"\r\n                >\r\n                    Travel Freak\r\n                </Typography>\r\n            </div>\r\n\r\n            <Toolbar className={classes.toolbar}>\r\n                {user?.result ? (\r\n                    <div className={classes.profile}>\r\n                        <Avatar\r\n                            className={classes.purple}\r\n                            alt={user?.result.name}\r\n                            src={user?.result.imageUrl}\r\n                        >\r\n                            {user?.result.name.charAt(0)}\r\n                        </Avatar>\r\n                        <Typography\r\n                            className={classes.userName}\r\n                            variant=\"h6\"\r\n                            style={{ color: \"white\" }}\r\n                        >\r\n                            {user?.result.name}\r\n                        </Typography>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            className={classes.logout}\r\n                            color=\"secondary\"\r\n                            onClick={logout}\r\n                        >\r\n                            Logout\r\n                        </Button>\r\n                    </div>\r\n                ) : (\r\n                    <ColorButton\r\n                        component={Link}\r\n                        to=\"/auth\"\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                    >\r\n                        Sign In\r\n                    </ColorButton>\r\n                )}\r\n            </Toolbar>\r\n        </AppBar>\r\n    );\r\n};\r\n\r\nexport default Navbar;\r\n"]},"metadata":{},"sourceType":"module"}